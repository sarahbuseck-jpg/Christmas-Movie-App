<%- include('../partials/header', { title: 'Search Actors' }) %>

<div class="container mt-5" style="max-width: 600px;">
    <h2 class="text-center mb-4">Search Actors</h2>

    <div class="card p-3 shadow mb-4">
        <div class="input-group">
            <input id="searchBox" type="text" class="form-control" placeholder="Search by last name...">
            <button id="searchBtn" class="btn btn-primary">Search</button>
        </div>
    </div>

    <div id="results"></div>

    <div class="text-center mt-4">
        <a href="/actors" class="btn btn-secondary">Back to Actors</a>
    </div>
</div>

<script>
document.getElementById("searchBtn").addEventListener("click", async () => {
    const term = document.getElementById("searchBox").value.trim();
    if (!term) return;

    const res = await fetch(`/api/actors/search/${term}`);
    const actors = await res.json();

    const results = document.getElementById("results");
    results.innerHTML = "";

    if (actors.length === 0) {
        results.innerHTML = `<p class="text-danger text-center">No actors found.</p>`;
        return;
    }

    actors.forEach(a => {
        results.innerHTML += `
            <div class="card p-3 mb-2 shadow-sm">
                <strong>${a.first_name} ${a.last_name}</strong>
            </div>`;
    });
});
</script>

<%- include('../partials/footer') %>